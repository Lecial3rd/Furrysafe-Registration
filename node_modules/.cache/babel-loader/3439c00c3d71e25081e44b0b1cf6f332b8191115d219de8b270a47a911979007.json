{"ast":null,"code":"import { supabase } from '../supabaseClient.js';\nexport default {\n  data() {\n    return {\n      form: {\n        user_username: '',\n        first_name: '',\n        middle_initial: '',\n        last_name: '',\n        user_email: '',\n        user_password: '',\n        date_of_birth: '',\n        gender: ''\n      },\n      message: '',\n      messageType: ''\n    };\n  },\n  methods: {\n    async registerUser() {\n      try {\n        // Insert into tbl_user\n        const {\n          data: userData,\n          error: userError\n        } = await supabase.from('tbl_user').insert([{\n          user_email: this.form.user_email,\n          user_password: this.form.user_password\n        }]).select();\n        if (userError) throw userError;\n        const user_id = userData[0].user_id;\n\n        // Insert into tbl_user_details\n        const {\n          error: detailsError\n        } = await supabase.from('tbl_user_details').insert([{\n          user_id,\n          user_username: this.form.user_username,\n          firstname: this.form.first_name,\n          mi: this.form.middle_initial,\n          lastname: this.form.last_name,\n          date_of_birth: this.form.date_of_birth,\n          gender: this.form.gender\n        }]);\n        if (detailsError) throw detailsError;\n        this.message = 'User created successfully!';\n        this.messageType = 'is-success';\n        this.form = {\n          user_username: '',\n          first_name: '',\n          middle_initial: '',\n          last_name: '',\n          user_email: '',\n          user_password: '',\n          date_of_birth: '',\n          gender: ''\n        };\n      } catch (error) {\n        this.message = 'User creation failed: ' + error.message;\n        this.messageType = 'is-danger';\n      }\n    }\n  }\n};","map":{"version":3,"names":["supabase","data","form","user_username","first_name","middle_initial","last_name","user_email","user_password","date_of_birth","gender","message","messageType","methods","registerUser","userData","error","userError","from","insert","select","user_id","detailsError","firstname","mi","lastname"],"sources":["C:\\Users\\Lenovo\\Downloads\\FurrySafe\\furrysafe_registration_testing-main\\front\\src\\components\\userRegistration.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <form @submit.prevent=\"registerUser\">\r\n      <div class=\"field\">\r\n        <label class=\"label\">Username</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"text\" v-model=\"form.user_username\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">First Name</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"text\" v-model=\"form.first_name\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Middle Initial</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"text\" v-model=\"form.middle_initial\" maxlength=\"1\">\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Last Name</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"text\" v-model=\"form.last_name\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Email</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"email\" v-model=\"form.user_email\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Password</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"password\" v-model=\"form.user_password\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Date of Birth</label>\r\n        <div class=\"control\">\r\n          <input class=\"input\" type=\"date\" v-model=\"form.date_of_birth\" required>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label class=\"label\">Gender</label>\r\n        <div class=\"control\">\r\n          <div class=\"select\">\r\n            <select v-model=\"form.gender\">\r\n              <option value=\"\">Prefer not to say</option>\r\n              <option value=\"M\">Male</option>\r\n              <option value=\"F\">Female</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <div class=\"control\">\r\n          <button class=\"button is-primary\" type=\"submit\">Register</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div v-if=\"message\" class=\"notification\" :class=\"messageType\">\r\n      {{ message }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { supabase } from '../supabaseClient.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        user_username: '',\r\n        first_name: '',\r\n        middle_initial: '',\r\n        last_name: '',\r\n        user_email: '',\r\n        user_password: '',\r\n        date_of_birth: '',\r\n        gender: ''\r\n      },\r\n      message: '',\r\n      messageType: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async registerUser() {\r\n      try {\r\n        // Insert into tbl_user\r\n        const { data: userData, error: userError } = await supabase\r\n          .from('tbl_user')\r\n          .insert([{ user_email: this.form.user_email, user_password: this.form.user_password }])\r\n          .select()\r\n\r\n        if (userError) throw userError\r\n\r\n        const user_id = userData[0].user_id\r\n\r\n        // Insert into tbl_user_details\r\n        const { error: detailsError } = await supabase\r\n          .from('tbl_user_details')\r\n          .insert([{\r\n            user_id,\r\n            user_username: this.form.user_username,\r\n            firstname: this.form.first_name,\r\n            mi: this.form.middle_initial,\r\n            lastname: this.form.last_name,\r\n            date_of_birth: this.form.date_of_birth,\r\n            gender: this.form.gender\r\n          }])\r\n\r\n        if (detailsError) throw detailsError\r\n\r\n        this.message = 'User created successfully!'\r\n        this.messageType = 'is-success'\r\n        this.form = {\r\n          user_username: '',\r\n          first_name: '',\r\n          middle_initial: '',\r\n          last_name: '',\r\n          user_email: '',\r\n          user_password: '',\r\n          date_of_birth: '',\r\n          gender: ''\r\n        }\r\n\r\n      } catch (error) {\r\n        this.message = 'User creation failed: ' + error.message\r\n        this.messageType = 'is-danger'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAuEA,SAASA,QAAO,QAAS,sBAAqB;AAE9C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,aAAa,EAAE,EAAE;QACjBC,UAAU,EAAE,EAAE;QACdC,cAAc,EAAE,EAAE;QAClBC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,EAAE;QACdC,aAAa,EAAE,EAAE;QACjBC,aAAa,EAAE,EAAE;QACjBC,MAAM,EAAE;MACV,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF;QACA,MAAM;UAAEb,IAAI,EAAEc,QAAQ;UAAEC,KAAK,EAAEC;QAAU,IAAI,MAAMjB,QAAO,CACvDkB,IAAI,CAAC,UAAU,EACfC,MAAM,CAAC,CAAC;UAAEZ,UAAU,EAAE,IAAI,CAACL,IAAI,CAACK,UAAU;UAAEC,aAAa,EAAE,IAAI,CAACN,IAAI,CAACM;QAAc,CAAC,CAAC,EACrFY,MAAM,CAAC;QAEV,IAAIH,SAAS,EAAE,MAAMA,SAAQ;QAE7B,MAAMI,OAAM,GAAIN,QAAQ,CAAC,CAAC,CAAC,CAACM,OAAM;;QAElC;QACA,MAAM;UAAEL,KAAK,EAAEM;QAAa,IAAI,MAAMtB,QAAO,CAC1CkB,IAAI,CAAC,kBAAkB,EACvBC,MAAM,CAAC,CAAC;UACPE,OAAO;UACPlB,aAAa,EAAE,IAAI,CAACD,IAAI,CAACC,aAAa;UACtCoB,SAAS,EAAE,IAAI,CAACrB,IAAI,CAACE,UAAU;UAC/BoB,EAAE,EAAE,IAAI,CAACtB,IAAI,CAACG,cAAc;UAC5BoB,QAAQ,EAAE,IAAI,CAACvB,IAAI,CAACI,SAAS;UAC7BG,aAAa,EAAE,IAAI,CAACP,IAAI,CAACO,aAAa;UACtCC,MAAM,EAAE,IAAI,CAACR,IAAI,CAACQ;QACpB,CAAC,CAAC;QAEJ,IAAIY,YAAY,EAAE,MAAMA,YAAW;QAEnC,IAAI,CAACX,OAAM,GAAI,4BAA2B;QAC1C,IAAI,CAACC,WAAU,GAAI,YAAW;QAC9B,IAAI,CAACV,IAAG,GAAI;UACVC,aAAa,EAAE,EAAE;UACjBC,UAAU,EAAE,EAAE;UACdC,cAAc,EAAE,EAAE;UAClBC,SAAS,EAAE,EAAE;UACbC,UAAU,EAAE,EAAE;UACdC,aAAa,EAAE,EAAE;UACjBC,aAAa,EAAE,EAAE;UACjBC,MAAM,EAAE;QACV;MAEF,EAAE,OAAOM,KAAK,EAAE;QACd,IAAI,CAACL,OAAM,GAAI,wBAAuB,GAAIK,KAAK,CAACL,OAAM;QACtD,IAAI,CAACC,WAAU,GAAI,WAAU;MAC/B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}